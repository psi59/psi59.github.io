<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>mitmproxy 설치하기 | Sangil's Blog</title><meta name=keywords content="devtools"><meta name=description content="mitmproxy 이란? mitmproxy is a free and open source interactive HTTPS proxy.
간단하게 설명하자면 클라이언트와 서버간의 HTTP(S) Request와 Response를 모니터링하고 Debugging 할 수 있는 오픈소스 툴입니다.
여기서 mitm의 의미를 짚고 넘어가자면 mitm은 man in the middle의 약자이며 직역하면 중간자라고 할 수 있습니다.
그림1은 중간자가 없는 기존 클라이언트와 서버와의 통신 구조는 간략하게 표현한 것입니다.
그림2는 중간자가 포함된 클라이언트와 서버의 통신 구조입니다.
그림2와 같이 중간자가 클라이언트와 서버 사이에 위치하기 때문에 Request와 Response를 모니터링할 수 있게 됩니다."><meta name=author content="박상일"><link rel=canonical href=https://psi59.github.io/posts/2020-08-09-mitmproxy-installation/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://psi59.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://psi59.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://psi59.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://psi59.github.io/apple-touch-icon.png><link rel=mask-icon href=https://psi59.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.108.0"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-MMTYEB98J6"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MMTYEB98J6",{anonymize_ip:!1})}</script><meta property="og:title" content="mitmproxy 설치하기"><meta property="og:description" content="mitmproxy 이란? mitmproxy is a free and open source interactive HTTPS proxy.
간단하게 설명하자면 클라이언트와 서버간의 HTTP(S) Request와 Response를 모니터링하고 Debugging 할 수 있는 오픈소스 툴입니다.
여기서 mitm의 의미를 짚고 넘어가자면 mitm은 man in the middle의 약자이며 직역하면 중간자라고 할 수 있습니다.
그림1은 중간자가 없는 기존 클라이언트와 서버와의 통신 구조는 간략하게 표현한 것입니다.
그림2는 중간자가 포함된 클라이언트와 서버의 통신 구조입니다.
그림2와 같이 중간자가 클라이언트와 서버 사이에 위치하기 때문에 Request와 Response를 모니터링할 수 있게 됩니다."><meta property="og:type" content="article"><meta property="og:url" content="https://psi59.github.io/posts/2020-08-09-mitmproxy-installation/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-08-09T09:00:00+09:00"><meta property="article:modified_time" content="2020-08-09T09:00:00+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="mitmproxy 설치하기"><meta name=twitter:description content="mitmproxy 이란? mitmproxy is a free and open source interactive HTTPS proxy.
간단하게 설명하자면 클라이언트와 서버간의 HTTP(S) Request와 Response를 모니터링하고 Debugging 할 수 있는 오픈소스 툴입니다.
여기서 mitm의 의미를 짚고 넘어가자면 mitm은 man in the middle의 약자이며 직역하면 중간자라고 할 수 있습니다.
그림1은 중간자가 없는 기존 클라이언트와 서버와의 통신 구조는 간략하게 표현한 것입니다.
그림2는 중간자가 포함된 클라이언트와 서버의 통신 구조입니다.
그림2와 같이 중간자가 클라이언트와 서버 사이에 위치하기 때문에 Request와 Response를 모니터링할 수 있게 됩니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://psi59.github.io/posts/"},{"@type":"ListItem","position":3,"name":"mitmproxy 설치하기","item":"https://psi59.github.io/posts/2020-08-09-mitmproxy-installation/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"mitmproxy 설치하기","name":"mitmproxy 설치하기","description":"mitmproxy 이란? mitmproxy is a free and open source interactive HTTPS proxy.\n간단하게 설명하자면 클라이언트와 서버간의 HTTP(S) Request와 Response를 모니터링하고 Debugging 할 수 있는 오픈소스 툴입니다.\n여기서 mitm의 의미를 짚고 넘어가자면 mitm은 man in the middle의 약자이며 직역하면 중간자라고 할 수 있습니다.\n그림1은 중간자가 없는 기존 클라이언트와 서버와의 통신 구조는 간략하게 표현한 것입니다.\n그림2는 중간자가 포함된 클라이언트와 서버의 통신 구조입니다.\n그림2와 같이 중간자가 클라이언트와 서버 사이에 위치하기 때문에 Request와 Response를 모니터링할 수 있게 됩니다.","keywords":["devtools"],"articleBody":"mitmproxy 이란? mitmproxy is a free and open source interactive HTTPS proxy.\n간단하게 설명하자면 클라이언트와 서버간의 HTTP(S) Request와 Response를 모니터링하고 Debugging 할 수 있는 오픈소스 툴입니다.\n여기서 mitm의 의미를 짚고 넘어가자면 mitm은 man in the middle의 약자이며 직역하면 중간자라고 할 수 있습니다.\n그림1은 중간자가 없는 기존 클라이언트와 서버와의 통신 구조는 간략하게 표현한 것입니다.\n그림2는 중간자가 포함된 클라이언트와 서버의 통신 구조입니다.\n그림2와 같이 중간자가 클라이언트와 서버 사이에 위치하기 때문에 Request와 Response를 모니터링할 수 있게 됩니다.\nmitmproxy가 동작하는 자세한 원리는 공식 문서에 How mitmproxy works에서 확인 가능합니다.\n설치 설치 과정은 macOS를 기준으로 설명하겠습니다.\nmitmproxy 설치 후 실행 # homebrew를 통한 설치 brew install mitmproxy # mitmproxy 실행 mitmproxy Command를 실행하면 기본 포트인 8080로 실행된 것을 알 수 있습니다. mitmproxy를 실행하면 $Home/.mitmproxy 디렉토리와 인증서들을 생성합니다.\nmitmproxy 인증서 설치 # 인증서 등록 sudo security add-trusted-cert -d -r trustRoot -p ssl -k /Library/Keychains/System.keychain $HOME/.mitmproxy/mitmproxy-ca-cert.pem Command를 실행하면 시스템 키체인에 mitmproxy 인증서를 등록합니다.\nfirefox 브라우저를 사용할 경우 파이어폭스는 내장된 인증서 매니저를 사용합니다.\n따라서 $HOME/.mitmproxy/mitmproxy-ca-cert.pem의 인증서를 설정에서 등록해줘야 합니다.\nproxy 설정 # 프록시 설정 networksetup -setwebproxy \"Wi-Fi\" localhost 8080 networksetup -setsecurewebproxy \"Wi-Fi\" localhost 8080 Command를 실행하면 WIFI 인터페이스의 프록시를 127.0.0.1:8080로 세팅합니다.\n확인은 설정-네트워크-WIFI-고급에서 확인할 수 있습니다.\n삭제 # mitmproxy 삭제 brew uninstall mitmproxy # 인증서 삭제 sudo security delete-certificate -c mitmproxy # 프록시 설정 끄기 networksetup -setwebproxystate \"Wi-Fi\" off networksetup -setsecurewebproxystate \"Wi-Fi\" off 삭제는 설치의 역순이지만 위 Command를 이용하면 더욱 간단합니다.\n실행과 종료 기본적으로 fiddler나 charles 같은 툴들은 프로그램을 실행할 때 proxy를 세팅해주고 종료될 때 다시 복원해주는 작업을 자동적으로 해주지만 mitmproxy에 그런 기능은 없기 때문에 실행할 때 proxy를 세팅해주고 종료할 땐 반드시 proxy 세팅을 복원해야 합니다.\n실행 # 프록시 설정 networksetup -setwebproxy 'Wi-Fi' localhost 8080 networksetup -setsecurewebproxy 'Wi-Fi' localhost 8080 # mitmproxy 실행 mitmproxy 종료 # mitmproxy 종료 후 proxy 설정 복원 networksetup -setwebproxystate \"Wi-Fi\" off networksetup -setsecurewebproxystate \"Wi-Fi\" off Script 매번 프록시 세팅을 켜고 끄기가 매우 번거롭기 때문에 쉘 스크립트를 이용해서 사용하시면 더욱 편하게 사용할 수 있습니다.\n#!/bin/bash function restore_proxy { echo \"Close mitmproxy\" echo \"Restore system proxy settings\" networksetup -setwebproxystate 'Wi-Fi' off \u0026\u0026 networksetup -setsecurewebproxystate 'Wi-Fi' off } trap restore_proxy EXIT echo \"Set system proxy settings\" echo \"Run mitmproxy\" networksetup -setwebproxy 'Wi-Fi' localhost 8080 \u0026\u0026 networksetup -setsecurewebproxy 'Wi-Fi' localhost 8080 mitmproxy 테스트 네이버로 접속 후 인증서를 확인하면 발급자가 mitmproxy로 변경된 것을 확인할 수 있으며 mitmproxy에서는 network flow를 확인할 수 있습니다.\n정리 이번 포스트는 mitmproxy를 설치하고 설정하는 방법에 대해서 정리해보았습니다.\nmitmproxy는 TUI뿐만 아니라 mitmweb이라는 브라우저 기반의 GUI로도 이용하실 수 있습니다.\nmitmproxy를 사용해보고자 하는 분들에게 조금이나마 도움이 되었기를 바라면서 이번 포스팅을 마치겠습니다.\n궁금하신 점이나 수정 보완해야할 점들은 댓글이나 psi59@lalaworks.com으로 메일 주시길 바랍니다.\n","wordCount":"414","inLanguage":"en","datePublished":"2020-08-09T09:00:00+09:00","dateModified":"2020-08-09T09:00:00+09:00","author":{"@type":"Person","name":"박상일"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://psi59.github.io/posts/2020-08-09-mitmproxy-installation/"},"publisher":{"@type":"Organization","name":"Sangil's Blog","logo":{"@type":"ImageObject","url":"https://psi59.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://psi59.github.io accesskey=h title="Sangil's Blog (Alt + H)">Sangil's Blog</a>
<span class=logo-switches></span></div><ul id=menu><li><a href=https://psi59.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://psi59.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://psi59.github.io>Home</a>&nbsp;»&nbsp;<a href=https://psi59.github.io/posts/>Posts</a></div><h1 class=post-title>mitmproxy 설치하기</h1><div class=post-meta><span title='2020-08-09 09:00:00 +0900 +0900'>August 9, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;박상일</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#mitmproxy-%ec%9d%b4%eb%9e%80 aria-label="mitmproxy 이란?">mitmproxy 이란?</a></li><li><a href=#%ec%84%a4%ec%b9%98 aria-label=설치>설치</a><ul><li><a href=#mitmproxy-%ec%84%a4%ec%b9%98-%ed%9b%84-%ec%8b%a4%ed%96%89 aria-label="mitmproxy 설치 후 실행">mitmproxy 설치 후 실행</a></li><li><a href=#mitmproxy-%ec%9d%b8%ec%a6%9d%ec%84%9c-%ec%84%a4%ec%b9%98 aria-label="mitmproxy 인증서 설치">mitmproxy 인증서 설치</a><ul><li><a href=#firefox-%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80%eb%a5%bc-%ec%82%ac%ec%9a%a9%ed%95%a0-%ea%b2%bd%ec%9a%b0 aria-label="firefox 브라우저를 사용할 경우">firefox 브라우저를 사용할 경우</a></li></ul></li><li><a href=#proxy-%ec%84%a4%ec%a0%95 aria-label="proxy 설정">proxy 설정</a></li></ul></li><li><a href=#%ec%82%ad%ec%a0%9c aria-label=삭제>삭제</a></li><li><a href=#%ec%8b%a4%ed%96%89%ea%b3%bc-%ec%a2%85%eb%a3%8c aria-label="실행과 종료">실행과 종료</a><ul><li><a href=#%ec%8b%a4%ed%96%89 aria-label=실행>실행</a></li><li><a href=#%ec%a2%85%eb%a3%8c aria-label=종료>종료</a></li><li><a href=#script aria-label=Script>Script</a></li></ul></li><li><a href=#%ed%85%8c%ec%8a%a4%ed%8a%b8 aria-label=테스트>테스트</a></li><li><a href=#%ec%a0%95%eb%a6%ac aria-label=정리>정리</a></li></ul></div></details></div><div class=post-content><h2 id=mitmproxy-이란>mitmproxy 이란?<a hidden class=anchor aria-hidden=true href=#mitmproxy-이란>#</a></h2><blockquote><p>mitmproxy is a free and open source interactive HTTPS proxy.</p></blockquote><p>간단하게 설명하자면 클라이언트와 서버간의 HTTP(S) Request와 Response를 모니터링하고 Debugging 할 수 있는 오픈소스 툴입니다.</p><p>여기서 mitm의 의미를 짚고 넘어가자면 mitm은 <code>man in the middle</code>의 약자이며 직역하면 <code>중간자</code>라고 할 수 있습니다.</p><p><img loading=lazy src=/images/2020-08-09-mitmproxy-installation/req-res.jpg alt=그림1></p><p>그림1은 중간자가 없는 기존 클라이언트와 서버와의 통신 구조는 간략하게 표현한 것입니다.</p><p><img loading=lazy src=/images/2020-08-09-mitmproxy-installation/req-res-with-mitm.jpg alt=그림2></p><p>그림2는 중간자가 포함된 클라이언트와 서버의 통신 구조입니다.</p><p>그림2와 같이 중간자가 클라이언트와 서버 사이에 위치하기 때문에 Request와 Response를 모니터링할 수 있게 됩니다.</p><p>mitmproxy가 동작하는 자세한 원리는 공식 문서에 <a href=https://docs.mitmproxy.org/stable/concepts-howmitmproxyworks/>How mitmproxy works</a>에서 확인 가능합니다.</p><h2 id=설치>설치<a hidden class=anchor aria-hidden=true href=#설치>#</a></h2><p>설치 과정은 macOS를 기준으로 설명하겠습니다.</p><h3 id=mitmproxy-설치-후-실행>mitmproxy 설치 후 실행<a hidden class=anchor aria-hidden=true href=#mitmproxy-설치-후-실행>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># homebrew를 통한 설치</span>
</span></span><span style=display:flex><span>brew install mitmproxy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># mitmproxy 실행</span>
</span></span><span style=display:flex><span>mitmproxy
</span></span></code></pre></div><p>Command를 실행하면 기본 포트인 <code>8080</code>로 실행된 것을 알 수 있습니다.
mitmproxy를 실행하면 <code>$Home/.mitmproxy</code> 디렉토리와 인증서들을 생성합니다.</p><h3 id=mitmproxy-인증서-설치>mitmproxy 인증서 설치<a hidden class=anchor aria-hidden=true href=#mitmproxy-인증서-설치>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 인증서 등록</span>
</span></span><span style=display:flex><span>sudo security add-trusted-cert -d -r trustRoot -p ssl -k /Library/Keychains/System.keychain $HOME/.mitmproxy/mitmproxy-ca-cert.pem 
</span></span></code></pre></div><p>Command를 실행하면 시스템 키체인에 mitmproxy 인증서를 등록합니다.</p><p><img loading=lazy src=/images/2020-08-09-mitmproxy-installation/certificates-registration.png alt="인증서 등록"></p><h4 id=firefox-브라우저를-사용할-경우>firefox 브라우저를 사용할 경우<a hidden class=anchor aria-hidden=true href=#firefox-브라우저를-사용할-경우>#</a></h4><p>파이어폭스는 내장된 인증서 매니저를 사용합니다.<br>따라서 <code>$HOME/.mitmproxy/mitmproxy-ca-cert.pem</code>의 인증서를 설정에서 등록해줘야 합니다.</p><h3 id=proxy-설정>proxy 설정<a hidden class=anchor aria-hidden=true href=#proxy-설정>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 프록시 설정</span>
</span></span><span style=display:flex><span>networksetup -setwebproxy <span style=color:#e6db74>&#34;Wi-Fi&#34;</span> localhost <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>networksetup -setsecurewebproxy <span style=color:#e6db74>&#34;Wi-Fi&#34;</span> localhost <span style=color:#ae81ff>8080</span>
</span></span></code></pre></div><p>Command를 실행하면 <code>WIFI</code> 인터페이스의 프록시를 <code>127.0.0.1:8080</code>로 세팅합니다.</p><p>확인은 <code>설정-네트워크-WIFI-고급</code>에서 확인할 수 있습니다.</p><p><img loading=lazy src=/images/2020-08-09-mitmproxy-installation/proxy-setting.png alt="proxy 설정"></p><h2 id=삭제>삭제<a hidden class=anchor aria-hidden=true href=#삭제>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># mitmproxy 삭제</span>
</span></span><span style=display:flex><span>brew uninstall mitmproxy
</span></span><span style=display:flex><span><span style=color:#75715e># 인증서 삭제</span>
</span></span><span style=display:flex><span>sudo security delete-certificate -c mitmproxy
</span></span><span style=display:flex><span><span style=color:#75715e># 프록시 설정 끄기</span>
</span></span><span style=display:flex><span>networksetup -setwebproxystate <span style=color:#e6db74>&#34;Wi-Fi&#34;</span> off
</span></span><span style=display:flex><span>networksetup -setsecurewebproxystate <span style=color:#e6db74>&#34;Wi-Fi&#34;</span> off
</span></span></code></pre></div><p>삭제는 설치의 역순이지만 위 Command를 이용하면 더욱 간단합니다.</p><h2 id=실행과-종료>실행과 종료<a hidden class=anchor aria-hidden=true href=#실행과-종료>#</a></h2><p>기본적으로 fiddler나 charles 같은 툴들은 프로그램을 실행할 때 proxy를 세팅해주고 종료될 때 다시 복원해주는 작업을 자동적으로 해주지만 mitmproxy에 그런 기능은 없기 때문에 실행할 때 proxy를 세팅해주고 종료할 땐 반드시 proxy 세팅을 복원해야 합니다.</p><h3 id=실행>실행<a hidden class=anchor aria-hidden=true href=#실행>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 프록시 설정</span>
</span></span><span style=display:flex><span>networksetup -setwebproxy <span style=color:#e6db74>&#39;Wi-Fi&#39;</span> localhost <span style=color:#ae81ff>8080</span> 
</span></span><span style=display:flex><span>networksetup -setsecurewebproxy <span style=color:#e6db74>&#39;Wi-Fi&#39;</span> localhost <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># mitmproxy 실행</span>
</span></span><span style=display:flex><span>mitmproxy
</span></span></code></pre></div><h3 id=종료>종료<a hidden class=anchor aria-hidden=true href=#종료>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># mitmproxy 종료 후 proxy 설정 복원</span>
</span></span><span style=display:flex><span>networksetup -setwebproxystate <span style=color:#e6db74>&#34;Wi-Fi&#34;</span> off
</span></span><span style=display:flex><span>networksetup -setsecurewebproxystate <span style=color:#e6db74>&#34;Wi-Fi&#34;</span> off
</span></span></code></pre></div><h3 id=script>Script<a hidden class=anchor aria-hidden=true href=#script>#</a></h3><p>매번 프록시 세팅을 켜고 끄기가 매우 번거롭기 때문에 쉘 스크립트를 이용해서 사용하시면 더욱 편하게 사용할 수 있습니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> restore_proxy <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>&#34;Close mitmproxy&#34;</span>
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>&#34;Restore system proxy settings&#34;</span>
</span></span><span style=display:flex><span>  networksetup -setwebproxystate <span style=color:#e6db74>&#39;Wi-Fi&#39;</span> off <span style=color:#f92672>&amp;&amp;</span> networksetup -setsecurewebproxystate <span style=color:#e6db74>&#39;Wi-Fi&#39;</span> off
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>trap restore_proxy EXIT
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Set system proxy settings&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Run mitmproxy&#34;</span>
</span></span><span style=display:flex><span>networksetup -setwebproxy <span style=color:#e6db74>&#39;Wi-Fi&#39;</span> localhost <span style=color:#ae81ff>8080</span> <span style=color:#f92672>&amp;&amp;</span> networksetup -setsecurewebproxy <span style=color:#e6db74>&#39;Wi-Fi&#39;</span> localhost <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>mitmproxy
</span></span></code></pre></div><h2 id=테스트>테스트<a hidden class=anchor aria-hidden=true href=#테스트>#</a></h2><p><img loading=lazy src=/images/2020-08-09-mitmproxy-installation/certificates.png alt="인증서 확인"></p><p>네이버로 접속 후 인증서를 확인하면 발급자가 mitmproxy로 변경된 것을 확인할 수 있으며 mitmproxy에서는 network flow를 확인할 수 있습니다.</p><p><img loading=lazy src=/images/2020-08-09-mitmproxy-installation/network-flow.png alt="네트워크 흐름 확인"></p><h2 id=정리>정리<a hidden class=anchor aria-hidden=true href=#정리>#</a></h2><p>이번 포스트는 mitmproxy를 설치하고 설정하는 방법에 대해서 정리해보았습니다.</p><p>mitmproxy는 TUI뿐만 아니라 <code>mitmweb</code>이라는 브라우저 기반의 GUI로도 이용하실 수 있습니다.</p><p>mitmproxy를 사용해보고자 하는 분들에게 조금이나마 도움이 되었기를 바라면서 이번 포스팅을 마치겠습니다.</p><p>궁금하신 점이나 수정 보완해야할 점들은 댓글이나 <a href=mailto:psi59@lalaworks.com>psi59@lalaworks.com</a>으로 메일 주시길 바랍니다.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://psi59.github.io/tags/devtools/>devtools</a></li></ul><nav class=paginav><a class=prev href=https://psi59.github.io/posts/2020-11-14-docker-container-graceful-shutdown/><span class=title>« Prev Page</span><br><span>도커 컨테이너로 배포된 서버를 우아하게 종료하기✨</span></a>
<a class=next href=https://psi59.github.io/posts/2020-02-06-concurrency-parallelism/><span class=title>Next Page »</span><br><span>Concurrency와 Parallelism의 차이</span></a></nav></footer><script src=https://utteranc.es/client.js repo=psi59/psi59.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2022 <a href=https://psi59.github.io>Sangil's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>